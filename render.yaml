services:
  - type: web
    name: zeroclaw-assistant
    runtime: docker
    plan: free
    envVars:
      # --- Networking & Core ---
      - key: PORT
        value: "8080"
      - key: ZEROCLAW_GATEWAY_PORT
        value: "8080"
      - key: ZEROCLAW_GATEWAY_ALLOW_PUBLIC_BIND
        value: "true"
      - key: ZEROCLAW_GATEWAY_REQUIRE_PAIRING
        value: "false"

      # --- AI Provider Fix (Bypass 429 entirely) ---
      # Groq is promoted to Primary to handle the intense Agent Loop
      - key: ZEROCLAW_DEFAULT_PROVIDER
        value: "groq"
      - key: ZEROCLAW_DEFAULT_MODEL
        value: "llama-3.3-70b-specdec"
      
      # --- API Keys (Matching official docs spec) ---
      - key: GROQ_API_KEY
        sync: false
      - key: GEMINI_API_KEY
        sync: false
      - key: OPENROUTER_API_KEY
        sync: false
      - key: OPENAI_API_KEY
        sync: false

      # --- Channels ---
      # --- Telegram Integration ---
      - key: ZEROCLAW_CHANNELS_TELEGRAM_ENABLED
        value: "true"
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: ZEROCLAW_CHANNELS_TELEGRAM_ALLOWED_USERS
        value: '["*"]' # Allows anyone to message the bot. Replace "*" with your Telegram username for privacy.
